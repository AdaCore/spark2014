\documentclass{beamer}
\input{altran-beamer}
\usepackage{listings}
\usepackage{setspace}
\usepackage{tikz}
\usetikzlibrary{calc}
\usetikzlibrary{shadows}

\lstdefinestyle{tinystyle} {basicstyle=\scriptsize\tt,
  keywordstyle=\bf, commentstyle=\rmfamily\it, escapeinside={(*}{*)}}
\lstset{style=tinystyle}

\lstdefinelanguage{SPARK}{ language = [95]Ada, morekeywords = {pre,
    post, assert, assume, check, derives, hide, global, inherit, from,
    own, initializes, main_program, input, output, in_out,
    refined_pre, refined_post, some, depends}, comment=[l][commentstyle]{--\ },
  showstringspaces=false }

\lstset{language=SPARK}

\title{Optimising Verification Effort\\with SPARK 2014}
\author{Andrew Hawthorn}
\hypersetup{colorlinks=true}
\begin{document}

\begin{altrantitle}
  \titleprismlabela{Formally Specify}
  \titleprismlabelb{Test and Prove}
  \titleprismlabelc{Reduce Cost}
\end{altrantitle}

%\begin{frame}[fragile]{Contents}
%  \tableofcontents
%\end{frame}

\section{Introduction}

\begin{frame}[fragile]{Key messages}
  \begin{itemize}
  \item Precision of contracts can be tailored to project need
  \item LLRs can be represented in Ada package specifications
  \item Test and proof can be easily combined

  \end{itemize}
\end{frame}

\begin{frame}[fragile]{Agenda}
  \begin{itemize}
     \item Technical planning (REVEAL, INFORMED, V-lifecylce)
     \item Verification spectrum (checks with traffic lights on left, code on right, demonstrate each level of verification with an error - start with full Ada)
     \item Example code: Presenter and audience counter (first is more precise)o
     \item ask audience to id faults? Give them a 10-second count=down timer.
  \end{itemize}
\end{frame}

\section{What?}

\begin{frame}[fragile]{Static Analysis Summary}
  \begin{columns}
    \begin{column}{3cm}
      \begin{center}
        \begin{tikzpicture}[y=1.2cm]

          \draw[fill=AnColour01,AnColour01,xstep=2cm, ystep=1cm] (-2.01,0) grid (0,5);

          \foreach \y/\descr/\fill in {
            6cm/In SPARK subset/green,
            5cm/Variables Initialised/green,
            4cm/No R-T Errors/green,
            3cm/Globals Satisfied/green,
            2cm/Partially proven/green,
            1cm/Fully proven/green}
          {
            \node[font=\small, anchor=north, text width=1.7cm, text badly centered] at (-1.2, \y) {\descr};
            \filldraw[fill=\fill, draw=black] (-0.2,\y-0.5cm) circle (0.1cm);
          }

          % \draw[->] (0, 0) -- (7.5, 0) node [anchor=west] {scale};
          % \draw[->] (0, 0) -- (0, 3) node [anchor=east] {rigour};

        \end{tikzpicture}

      \end{center}
    \end{column}


    \begin{column}{9cm}
      % \begin{block}{Example}

      \begin{pxcode}[language=SPARK,gobble=8]
        package Conference_Numbers
        is
           A_Count, P_Count : Integer := 0;

           procedure Inc_Audience (N : Integer)
           with Global => (In_Out => A_Count),
                Pre    => (N >= 0),
                Post   => (A_Count = A_Count + N);
        end Counters;

        package body Counters
        is
           procedure Inc_Audience (N : Integer)
           is
           begin
              A_Count := A_Count + N;
           end Inc_Audience;
        end Counters;
      \end{pxcode}

      % \end{blocK}
    \end{column}
  \end{columns}

\end{frame}

\end{document}

