<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>wellformed</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library wellformed</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="semantics.html#"><span class="id" type="library">semantics</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab32"></a><h1 class="section">Well-Formed Program</h1>

<div class="paragraph"> </div>

   Before executing the program, make sure that the program is well-formed

<div class="paragraph"> </div>

<ul class="doclist">
<li> well-typed: 
<ul class="doclist">
<li> all operators work on the operands of the right types;

</li>
<li> all assignments write into memory with the values of right types;

</li>
<li> variables has right <i>in/out</i> mode;

</li>
</ul>

</li>
<li> well-defined: 
      all variables are initialized before they are used

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="binop_type"><span class="id" type="definition">binop_type</span></a> (<span class="id" type="var">op</span>: <a class="idref" href="language.html#binary_operation"><span class="id" type="inductive">binary_operation</span></a>) (<span class="id" type="var">x</span> <span class="id" type="var">y</span>: <a class="idref" href="language.html#typ"><span class="id" type="inductive">typ</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="language.html#typ"><span class="id" type="inductive">typ</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="wellformed.html#op"><span class="id" type="variable">op</span></a> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Ceq"><span class="id" type="constructor">Ceq</span></a> | <a class="idref" href="language.html#Cne"><span class="id" type="constructor">Cne</span></a>  =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a>, <a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Tint"><span class="id" type="constructor">Tint</span></a>, <a class="idref" href="language.html#Tint"><span class="id" type="constructor">Tint</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language.html#Tbool"><span class="id" type="constructor">Tbool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Oand"><span class="id" type="constructor">Oand</span></a> | <a class="idref" href="language.html#Oor"><span class="id" type="constructor">Oor</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a>, <a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Tbool"><span class="id" type="constructor">Tbool</span></a>, <a class="idref" href="language.html#Tbool"><span class="id" type="constructor">Tbool</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language.html#Tbool"><span class="id" type="constructor">Tbool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Oadd"><span class="id" type="constructor">Oadd</span></a> | <a class="idref" href="language.html#Osub"><span class="id" type="constructor">Osub</span></a> | <a class="idref" href="language.html#Omul"><span class="id" type="constructor">Omul</span></a> | <a class="idref" href="language.html#Odiv"><span class="id" type="constructor">Odiv</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a>, <a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Tint"><span class="id" type="constructor">Tint</span></a>, <a class="idref" href="language.html#Tint"><span class="id" type="constructor">Tint</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language.html#Tint"><span class="id" type="constructor">Tint</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab33"></a><h1 class="section">Well-Typed</h1>
<a name="lab34"></a><h2 class="section">Well-typed expressions</h2>

<div class="paragraph"> </div>

<ul class="doclist">
<li> general type checking;

</li>
<li> all variables should be in mode <i>in</i>; 

</li>
</ul>

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a>: <a class="idref" href="environment.html#symtb"><span class="id" type="definition">symtb</span></a> -&gt; <a class="idref" href="language.html#expr"><span class="id" type="inductive">expr</span></a> -&gt; <a class="idref" href="language.html#typ"><span class="id" type="inductive">typ</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WT_Econst_Int"><span class="id" type="constructor">WT_Econst_Int</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">n</span> <span class="id" type="var">tb</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> (<a class="idref" href="language.html#Econst"><span class="id" type="constructor">Econst</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> (<a class="idref" href="language.html#Ointconst"><span class="id" type="constructor">Ointconst</span></a> <a class="idref" href="wellformed.html#n"><span class="id" type="variable">n</span></a>)) <a class="idref" href="language.html#Tint"><span class="id" type="constructor">Tint</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WT_Econst_Bool"><span class="id" type="constructor">WT_Econst_Bool</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">b</span> <span class="id" type="var">tb</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> (<a class="idref" href="language.html#Econst"><span class="id" type="constructor">Econst</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> (<a class="idref" href="language.html#Oboolconst"><span class="id" type="constructor">Oboolconst</span></a> <a class="idref" href="wellformed.html#b"><span class="id" type="variable">b</span></a>)) <a class="idref" href="language.html#Tbool"><span class="id" type="constructor">Tbool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WT_Evar"><span class="id" type="constructor">WT_Evar</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">x</span> <span class="id" type="var">tb</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="environment.html#lookup"><span class="id" type="definition">lookup</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="language.html#In"><span class="id" type="constructor">In</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="wellformed.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> (<a class="idref" href="language.html#Evar"><span class="id" type="constructor">Evar</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="wellformed.html#t"><span class="id" type="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WT_Ebinop"><span class="id" type="constructor">WT_Ebinop</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">tb</span> <span class="id" type="var">op</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">t</span> <span class="id" type="var">t1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="wellformed.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="wellformed.html#t"><span class="id" type="variable">t</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="wellformed.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="wellformed.html#t"><span class="id" type="variable">t</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#binop_type"><span class="id" type="definition">binop_type</span></a> <a class="idref" href="wellformed.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="wellformed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="wellformed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#t1"><span class="id" type="variable">t1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> (<a class="idref" href="language.html#Ebinop"><span class="id" type="constructor">Ebinop</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="wellformed.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="wellformed.html#e2"><span class="id" type="variable">e2</span></a>) <a class="idref" href="wellformed.html#t1"><span class="id" type="variable">t1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WT_Eunop"><span class="id" type="constructor">WT_Eunop</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">tb</span> <span class="id" type="var">op</span> <span class="id" type="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="wellformed.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="language.html#Tbool"><span class="id" type="constructor">Tbool</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> (<a class="idref" href="language.html#Eunop"><span class="id" type="constructor">Eunop</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="wellformed.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="language.html#Tbool"><span class="id" type="constructor">Tbool</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab35"></a><h2 class="section">Well-typed commands</h2>

<div class="paragraph"> </div>

   two kinds of type checking:

<div class="paragraph"> </div>

<ul class="doclist">
<li> general type checking;

</li>
<li> <i>in/out</i> mode checking;

</li>
</ul>

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="well_typed_stmt"><span class="id" type="inductive">well_typed_stmt</span></a>: <a class="idref" href="environment.html#symtb"><span class="id" type="definition">symtb</span></a> -&gt; <a class="idref" href="language.html#stmt"><span class="id" type="inductive">stmt</span></a>  -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WT_Sassign"><span class="id" type="constructor">WT_Sassign</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">tb</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="environment.html#lookup"><span class="id" type="definition">lookup</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="language.html#Out"><span class="id" type="constructor">Out</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="wellformed.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="wellformed.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="wellformed.html#t"><span class="id" type="variable">t</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_stmt"><span class="id" type="inductive">well_typed_stmt</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> ((<a class="idref" href="language.html#Sassign"><span class="id" type="constructor">Sassign</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#e"><span class="id" type="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WT_Sseq"><span class="id" type="constructor">WT_Sseq</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">tb</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_stmt"><span class="id" type="inductive">well_typed_stmt</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="wellformed.html#c1"><span class="id" type="variable">c1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_stmt"><span class="id" type="inductive">well_typed_stmt</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="wellformed.html#c2"><span class="id" type="variable">c2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_stmt"><span class="id" type="inductive">well_typed_stmt</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> (<a class="idref" href="language.html#Sseq"><span class="id" type="constructor">Sseq</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="wellformed.html#c2"><span class="id" type="variable">c2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WT_Sifthen"><span class="id" type="constructor">WT_Sifthen</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">tb</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="wellformed.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="language.html#Tbool"><span class="id" type="constructor">Tbool</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_stmt"><span class="id" type="inductive">well_typed_stmt</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="wellformed.html#c"><span class="id" type="variable">c</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_stmt"><span class="id" type="inductive">well_typed_stmt</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> (<a class="idref" href="language.html#Sifthen"><span class="id" type="constructor">Sifthen</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="wellformed.html#c"><span class="id" type="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WT_Swhile"><span class="id" type="constructor">WT_Swhile</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">tb</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_expr"><span class="id" type="inductive">well_typed_expr</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="wellformed.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="language.html#Tbool"><span class="id" type="constructor">Tbool</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_stmt"><span class="id" type="inductive">well_typed_stmt</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> <a class="idref" href="wellformed.html#c"><span class="id" type="variable">c</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_typed_stmt"><span class="id" type="inductive">well_typed_stmt</span></a> <a class="idref" href="wellformed.html#tb"><span class="id" type="variable">tb</span></a> (<a class="idref" href="language.html#Swhile"><span class="id" type="constructor">Swhile</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="wellformed.html#c"><span class="id" type="variable">c</span></a>).<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab36"></a><h1 class="section">Well-Defined</h1>

<div class="paragraph"> </div>

 basic data structures for well-defined expressions and commands 
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="init_mode"><span class="id" type="inductive">init_mode</span></a>: <span class="id" type="keyword">Type</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Init"><span class="id" type="constructor">Init</span></a>: <a class="idref" href="wellformed.html#init_mode"><span class="id" type="inductive">init_mode</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Uninit"><span class="id" type="constructor">Uninit</span></a>: <a class="idref" href="wellformed.html#init_mode"><span class="id" type="inductive">init_mode</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="initializationState"><span class="id" type="definition">initializationState</span></a>: <span class="id" type="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="language.html#idnum"><span class="id" type="definition">idnum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="wellformed.html#init_mode"><span class="id" type="inductive">init_mode</span></a>).<br/>

<br/>
</div>

<div class="doc">
basic operators for well-defined expressions and commands 
</div>
<div class="code">
<span class="id" type="keyword">Function</span> <span class="id" type="var">fetch2</span> (<span class="id" type="var">x</span> : <a class="idref" href="language.html#idnum"><span class="id" type="definition">idnum</span></a>) (<span class="id" type="var">s</span> : <a class="idref" href="wellformed.html#initializationState"><span class="id" type="definition">initializationState</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="wellformed.html#init_mode"><span class="id" type="inductive">init_mode</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">imode</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">s'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="var">y</span> <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">imode</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="var">s'</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Function</span> <span class="id" type="var">update2</span> (<span class="id" type="var">s</span>: <a class="idref" href="wellformed.html#initializationState"><span class="id" type="definition">initializationState</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="language.html#idnum"><span class="id" type="definition">idnum</span></a>) (<span class="id" type="var">v</span>: <a class="idref" href="wellformed.html#init_mode"><span class="id" type="inductive">init_mode</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="wellformed.html#initializationState"><span class="id" type="definition">initializationState</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">imode</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">s'</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="var">y</span> <span class="id" type="keyword">then</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><a class="idref" href="wellformed.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><span class="id" type="var">s'</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="var">s'</span> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">s''</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">imode</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><span class="id" type="var">s''</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab37"></a><h2 class="section">Well-defined expressions</h2>

<div class="paragraph"> </div>

    all referenced variables are initialized 

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a>: <a class="idref" href="wellformed.html#initializationState"><span class="id" type="definition">initializationState</span></a> -&gt; <a class="idref" href="language.html#expr"><span class="id" type="inductive">expr</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WD_Econst_Int"><span class="id" type="constructor">WD_Econst_Int</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Econst"><span class="id" type="constructor">Econst</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> (<a class="idref" href="language.html#Ointconst"><span class="id" type="constructor">Ointconst</span></a> <a class="idref" href="wellformed.html#n"><span class="id" type="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WD_Econst_Bool"><span class="id" type="constructor">WD_Econst_Bool</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Econst"><span class="id" type="constructor">Econst</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> (<a class="idref" href="language.html#Oboolconst"><span class="id" type="constructor">Oboolconst</span></a> <a class="idref" href="wellformed.html#b"><span class="id" type="variable">b</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WD_Evar"><span class="id" type="constructor">WD_Evar</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">x</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#Init"><span class="id" type="constructor">Init</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Evar"><span class="id" type="constructor">Evar</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WD_Ebinop"><span class="id" type="constructor">WD_Ebinop</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">op</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#e1"><span class="id" type="variable">e1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Ebinop"><span class="id" type="constructor">Ebinop</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="wellformed.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="wellformed.html#e2"><span class="id" type="variable">e2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WD_Eunop"><span class="id" type="constructor">WD_Eunop</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">op</span> <span class="id" type="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#e"><span class="id" type="variable">e</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Eunop"><span class="id" type="constructor">Eunop</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="wellformed.html#e"><span class="id" type="variable">e</span></a>).<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab38"></a><h2 class="section">Well-defined commands</h2>

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="well_defined_stmt"><span class="id" type="inductive">well_defined_stmt</span></a>: <a class="idref" href="wellformed.html#initializationState"><span class="id" type="definition">initializationState</span></a> -&gt; <a class="idref" href="language.html#stmt"><span class="id" type="inductive">stmt</span></a> -&gt; <a class="idref" href="wellformed.html#initializationState"><span class="id" type="definition">initializationState</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WD_Sassign"><span class="id" type="constructor">WD_Sassign</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#e"><span class="id" type="variable">e</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#Init"><span class="id" type="constructor">Init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_stmt"><span class="id" type="inductive">well_defined_stmt</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Sassign"><span class="id" type="constructor">Sassign</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="wellformed.html#s'"><span class="id" type="variable">s'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WD_Sseq"><span class="id" type="constructor">WD_Sseq</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span> <span class="id" type="var">s''</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_stmt"><span class="id" type="inductive">well_defined_stmt</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="wellformed.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_stmt"><span class="id" type="inductive">well_defined_stmt</span></a> <a class="idref" href="wellformed.html#s'"><span class="id" type="variable">s'</span></a> <a class="idref" href="wellformed.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="wellformed.html#s''"><span class="id" type="variable">s''</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_stmt"><span class="id" type="inductive">well_defined_stmt</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Sseq"><span class="id" type="constructor">Sseq</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="wellformed.html#c2"><span class="id" type="variable">c2</span></a>) <a class="idref" href="wellformed.html#s''"><span class="id" type="variable">s''</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WD_Sifthen"><span class="id" type="constructor">WD_Sifthen</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_stmt"><span class="id" type="inductive">well_defined_stmt</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="wellformed.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_stmt"><span class="id" type="inductive">well_defined_stmt</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Sifthen"><span class="id" type="constructor">Sifthen</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="wellformed.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="WD_Swhile"><span class="id" type="constructor">WD_Swhile</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_expr"><span class="id" type="inductive">well_defined_expr</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_stmt"><span class="id" type="inductive">well_defined_stmt</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="wellformed.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#well_defined_stmt"><span class="id" type="inductive">well_defined_stmt</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Swhile"><span class="id" type="constructor">Swhile</span></a> <a class="idref" href="wellformed.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="wellformed.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="wellformed.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab39"></a><h2 class="section">Lemmas about initialization operations</h2>

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="update2_fetch2"><span class="id" type="lemma">update2_fetch2</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span> <span class="id" type="var">istate'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">m0</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#m0"><span class="id" type="variable">m0</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate'</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">imode</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHo</span> <span class="id" type="var">_</span> <span class="id" type="var">e1</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="fetch2_update2"><span class="id" type="lemma">fetch2_update2</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">istate</span> <span class="id" type="var">m0</span> <span class="id" type="var">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#m0"><span class="id" type="variable">m0</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">istate'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">istate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="var">x</span> <span class="id" type="var">istate</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">m0</span> <span class="id" type="var">m</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">s'</span>); <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHo</span> <span class="id" type="var">_</span> <span class="id" type="var">m</span> <span class="id" type="var">h1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">IHo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">imode</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">x0</span>); <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="update2_in"><span class="id" type="lemma">update2_in</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span> <span class="id" type="var">istate'</span> <span class="id" type="var">y</span> <span class="id" type="var">m'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#m'"><span class="id" type="variable">m'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#m'"><span class="id" type="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate'</span> <span class="id" type="var">y0</span> <span class="id" type="var">m'</span> <span class="id" type="var">h1</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">y0</span> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">left</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">y0</span> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">right</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHo</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">e1</span> <span class="id" type="var">h2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="update2_in1"><span class="id" type="lemma">update2_in1</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span> <span class="id" type="var">istate'</span> <span class="id" type="var">y</span> <span class="id" type="var">m'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#m'"><span class="id" type="variable">m'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="wellformed.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="wellformed.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#m'"><span class="id" type="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate'</span> <span class="id" type="var">y0</span> <span class="id" type="var">m'</span> <span class="id" type="var">h1</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">y0</span> <span class="id" type="var">y</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">h2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat_true"><span class="id" type="lemma">beq_nat_true</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat_true"><span class="id" type="lemma">beq_nat_true</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat_true"><span class="id" type="lemma">beq_nat_true</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat_false"><span class="id" type="lemma">beq_nat_false</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">y0</span> <span class="id" type="var">y</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat_false"><span class="id" type="lemma">beq_nat_false</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">e0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat_true"><span class="id" type="lemma">beq_nat_true</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqeq</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHo</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">e1</span> <span class="id" type="var">h2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="update2_fetch2_new"><span class="id" type="lemma">update2_fetch2_new</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span> <span class="id" type="var">istate'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#m"><span class="id" type="variable">m</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate'</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHo</span> <span class="id" type="var">_</span> <span class="id" type="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="update2_fetch2_old"><span class="id" type="lemma">update2_fetch2_old</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span> <span class="id" type="var">istate'</span> <span class="id" type="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate'</span> <span class="id" type="var">y0</span> <span class="id" type="var">h1</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat_true"><span class="id" type="lemma">beq_nat_true</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat_false_iff"><span class="id" type="lemma">beq_nat_false_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHo</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">e1</span> <span class="id" type="var">h2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">y0</span> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab40"></a><h2 class="section">Mapping from stack to initialization state</h2>

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="initializationMap"><span class="id" type="inductive">initializationMap</span></a>: <a class="idref" href="environment.html#stack"><span class="id" type="definition">stack</span></a> -&gt; <a class="idref" href="wellformed.html#initializationState"><span class="id" type="definition">initializationState</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="IEmpty"><span class="id" type="constructor">IEmpty</span></a>: <a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="IList0"><span class="id" type="constructor">IList0</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">ilist</span> <span class="id" type="var">x</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="values.html#Vundef"><span class="id" type="constructor">Vundef</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#ilist"><span class="id" type="variable">ilist</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="wellformed.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="wellformed.html#Init"><span class="id" type="constructor">Init</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="wellformed.html#ilist"><span class="id" type="variable">ilist</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="IList1"><span class="id" type="constructor">IList1</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">ilist</span> <span class="id" type="var">x</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Vundef"><span class="id" type="constructor">Vundef</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#ilist"><span class="id" type="variable">ilist</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="wellformed.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="wellformed.html#Uninit"><span class="id" type="constructor">Uninit</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="wellformed.html#ilist"><span class="id" type="variable">ilist</span></a>).<br/>

<br/>
</div>

<div class="doc">
some useful lemmas 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="initializationMap_consistent1"><span class="id" type="lemma">initializationMap_consistent1</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#v"><span class="id" type="variable">v</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#Init"><span class="id" type="constructor">Init</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">h1</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">unfold</span> <a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x0</span>); <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">unfold</span> <a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">h2</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="initializationMap_consistent2"><span class="id" type="lemma">initializationMap_consistent2</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#Init"><span class="id" type="constructor">Init</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">h1</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x0</span>); <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">v</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#fetch2"><span class="id" type="definition">fetch2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x0</span>); <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">v</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">h2</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="initializationMap_unique"><span class="id" type="lemma">initializationMap_unique</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">istate</span> <span class="id" type="var">istate'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="wellformed.html#istate'"><span class="id" type="variable">istate'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">istate</span> <span class="id" type="var">istate'</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="var">istate'</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">istate'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">istate'</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHh1</span> <span class="id" type="var">_</span> <span class="id" type="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHh1</span> <span class="id" type="var">_</span> <span class="id" type="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="update_consis"><span class="id" type="lemma">update_consis</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">s1</span> <span class="id" type="var">istate1</span> <span class="id" type="var">istate'1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <a class="idref" href="wellformed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <a class="idref" href="wellformed.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#s1"><span class="id" type="variable">s1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <a class="idref" href="wellformed.html#istate"><span class="id" type="variable">istate</span></a> <a class="idref" href="wellformed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="wellformed.html#Init"><span class="id" type="constructor">Init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="wellformed.html#istate1"><span class="id" type="variable">istate1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#initializationMap"><span class="id" type="inductive">initializationMap</span></a> <a class="idref" href="wellformed.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="wellformed.html#istate'1"><span class="id" type="variable">istate'1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="wellformed.html#istate1"><span class="id" type="variable">istate1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="wellformed.html#istate'1"><span class="id" type="variable">istate'1</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">istate</span> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">s1</span> <span class="id" type="var">istate1</span> <span class="id" type="var">istate'1</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="var">x</span> <span class="id" type="var">v</span> <span class="id" type="var">s1</span> <span class="id" type="var">istate1</span> <span class="id" type="var">istate'1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">specialize</span> (<a class="idref" href="wellformed.html#initializationMap_unique"><span class="id" type="lemma">initializationMap_unique</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h1</span> <span class="id" type="var">H8</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">fold</span> <a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="var">s</span> <span class="id" type="var">x1</span> (<a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <span class="id" type="var">v1</span>)) <span class="id" type="keyword">as</span> <span class="id" type="var">eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="var">ilist</span> <span class="id" type="var">x1</span> <a class="idref" href="wellformed.html#Init"><span class="id" type="constructor">Init</span></a>) <span class="id" type="keyword">as</span> <span class="id" type="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">eq1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqeq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqeq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHh1</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">Heqeq1</span> <span class="id" type="var">Heqeq2</span> <span class="id" type="var">H6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">specialize</span> (<a class="idref" href="wellformed.html#initializationMap_unique"><span class="id" type="lemma">initializationMap_unique</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h1</span> <span class="id" type="var">H7</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">fold</span> <a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="var">s</span> <span class="id" type="var">x1</span> (<a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <span class="id" type="var">v1</span>)) <span class="id" type="keyword">as</span> <span class="id" type="var">eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="wellformed.html#update2"><span class="id" type="definition">update2</span></a> <span class="id" type="var">ilist</span> <span class="id" type="var">x1</span> <a class="idref" href="wellformed.html#Init"><span class="id" type="constructor">Init</span></a>) <span class="id" type="keyword">as</span> <span class="id" type="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">eq1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqeq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqeq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHh1</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">Heqeq1</span> <span class="id" type="var">Heqeq2</span> <span class="id" type="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>