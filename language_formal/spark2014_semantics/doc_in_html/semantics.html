<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>semantics</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library semantics</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="values.html#"><span class="id" type="library">values</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="environment.html#"><span class="id" type="library">environment</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab23"></a><h1 class="section">Relational Semantics</h1>

</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="eval_constant"><span class="id" type="definition">eval_constant</span></a> (<span class="id" type="var">cst</span>: <a class="idref" href="language.html#constant"><span class="id" type="inductive">constant</span></a>): <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#cst"><span class="id" type="variable">cst</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Ointconst"><span class="id" type="constructor">Ointconst</span></a> <span class="id" type="var">v</span> =&gt; <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <span class="id" type="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Oboolconst"><span class="id" type="constructor">Oboolconst</span></a> <span class="id" type="var">b</span> =&gt; <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <span class="id" type="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="eval_binop"><span class="id" type="definition">eval_binop</span></a> (<span class="id" type="var">op</span>: <a class="idref" href="language.html#binary_operation"><span class="id" type="inductive">binary_operation</span></a>) (<span class="id" type="var">v1</span>: <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a>) (<span class="id" type="var">v2</span>: <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a>): <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Ceq"><span class="id" type="constructor">Ceq</span></a> =&gt; <a class="idref" href="values.html#Val.eq"><span class="id" type="definition">Val.eq</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Cne"><span class="id" type="constructor">Cne</span></a> =&gt; <a class="idref" href="values.html#Val.ne"><span class="id" type="definition">Val.ne</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Oand"><span class="id" type="constructor">Oand</span></a> =&gt; <a class="idref" href="values.html#Val.and"><span class="id" type="definition">Val.and</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Oor"><span class="id" type="constructor">Oor</span></a> =&gt; <a class="idref" href="values.html#Val.or"><span class="id" type="definition">Val.or</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Oadd"><span class="id" type="constructor">Oadd</span></a> =&gt; <a class="idref" href="values.html#Val.add"><span class="id" type="definition">Val.add</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Osub"><span class="id" type="constructor">Osub</span></a> =&gt; <a class="idref" href="values.html#Val.sub"><span class="id" type="definition">Val.sub</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Omul"><span class="id" type="constructor">Omul</span></a> =&gt; <a class="idref" href="values.html#Val.mul"><span class="id" type="definition">Val.mul</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Odiv"><span class="id" type="constructor">Odiv</span></a> =&gt; <a class="idref" href="values.html#Val.div"><span class="id" type="definition">Val.div</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="eval_unop"><span class="id" type="definition">eval_unop</span></a> (<span class="id" type="var">op</span>: <a class="idref" href="language.html#unary_operation"><span class="id" type="inductive">unary_operation</span></a>) (<span class="id" type="var">v</span>: <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a>): <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Onot"><span class="id" type="constructor">Onot</span></a> =&gt; <a class="idref" href="values.html#Val.not"><span class="id" type="definition">Val.not</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab24"></a><h2 class="section">Expression semantics</h2>

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="eval_expr"><span class="id" type="inductive">eval_expr</span></a>: <a class="idref" href="environment.html#stack"><span class="id" type="definition">stack</span></a> -&gt; <a class="idref" href="language.html#expr"><span class="id" type="inductive">expr</span></a> -&gt; <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Econst"><span class="id" type="constructor">eval_Econst</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">cst</span> <span class="id" type="var">s</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_constant"><span class="id" type="definition">eval_constant</span></a> <a class="idref" href="semantics.html#cst"><span class="id" type="variable">cst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Econst"><span class="id" type="constructor">Econst</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#cst"><span class="id" type="variable">cst</span></a>) <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Evar"><span class="id" type="constructor">eval_Evar</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">v</span> <span class="id" type="var">x</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Evar"><span class="id" type="constructor">Evar</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a>) (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Ebinop"><span class="id" type="constructor">eval_Ebinop</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">op</span> <span class="id" type="var">s</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_binop"><span class="id" type="definition">eval_binop</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Ebinop"><span class="id" type="constructor">Ebinop</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="semantics.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Eunop"><span class="id" type="constructor">eval_Eunop</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">op</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_unop"><span class="id" type="definition">eval_unop</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Eunop"><span class="id" type="constructor">Eunop</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab25"></a><h2 class="section">Command semantics</h2>

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="eval_stmt"><span class="id" type="inductive">eval_stmt</span></a>: <a class="idref" href="environment.html#stack"><span class="id" type="definition">stack</span></a> -&gt; <a class="idref" href="language.html#stmt"><span class="id" type="inductive">stmt</span></a> -&gt; <a class="idref" href="environment.html#stack"><span class="id" type="definition">stack</span></a> -&gt; <span class="id" type="keyword">Prop</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Sassign"><span class="id" type="constructor">eval_Sassign</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">s1</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Sassign"><span class="id" type="constructor">Sassign</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Sseq"><span class="id" type="constructor">eval_Sseq</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="semantics.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Sseq"><span class="id" type="constructor">Sseq</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="semantics.html#c2"><span class="id" type="variable">c2</span></a>) <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Sifthen_True"><span class="id" type="constructor">eval_Sifthen_True</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">s1</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Sifthen"><span class="id" type="constructor">Sifthen</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Sifthen_False"><span class="id" type="constructor">eval_Sifthen_False</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Sifthen"><span class="id" type="constructor">Sifthen</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Swhile_True"><span class="id" type="constructor">eval_Swhile_True</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> (<a class="idref" href="language.html#Swhile"><span class="id" type="constructor">Swhile</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Swhile"><span class="id" type="constructor">Swhile</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Swhile_False"><span class="id" type="constructor">eval_Swhile_False</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_id</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Swhile"><span class="id" type="constructor">Swhile</span></a> <a class="idref" href="semantics.html#ast_id"><span class="id" type="variable">ast_id</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab26"></a><h1 class="section">Functional Semantics</h1>
<a name="lab27"></a><h2 class="section">Expression semantics</h2>

</div>
<div class="code">
<span class="id" type="keyword">Function</span> <span class="id" type="var">f_eval_expr</span> (<span class="id" type="var">s</span>: <a class="idref" href="environment.html#stack"><span class="id" type="definition">stack</span></a>) (<span class="id" type="var">e</span>: <a class="idref" href="language.html#expr"><span class="id" type="inductive">expr</span></a>): <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Econst"><span class="id" type="constructor">Econst</span></a> <span class="id" type="var">_</span> <span class="id" type="var">v</span> =&gt; <a class="idref" href="semantics.html#eval_constant"><span class="id" type="definition">eval_constant</span></a> <span class="id" type="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Evar"><span class="id" type="constructor">Evar</span></a> <span class="id" type="var">_</span> <span class="id" type="var">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <span class="id" type="var">x</span> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a>) <span class="id" type="keyword">with</span>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">v</span> =&gt; <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <span class="id" type="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="values.html#ValException"><span class="id" type="constructor">ValException</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Ebinop"><span class="id" type="constructor">Ebinop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">op</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <span class="id" type="var">v1</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <span class="id" type="var">v2</span> =&gt; <a class="idref" href="semantics.html#eval_binop"><span class="id" type="definition">eval_binop</span></a> <span class="id" type="var">op</span> (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <span class="id" type="var">v1</span>) (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <span class="id" type="var">v2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="values.html#ValException"><span class="id" type="constructor">ValException</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="values.html#ValException"><span class="id" type="constructor">ValException</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Eunop"><span class="id" type="constructor">Eunop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">op</span> <span class="id" type="var">e</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">v</span> := <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_unop"><span class="id" type="definition">eval_unop</span></a> <span class="id" type="var">op</span> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab28"></a><h2 class="section">Command semantics</h2>

</div>
<div class="code">
<span class="id" type="keyword">Function</span> <span class="id" type="var">f_eval_stmt</span> <span class="id" type="var">k</span> (<span class="id" type="var">s</span>: <a class="idref" href="environment.html#stack"><span class="id" type="definition">stack</span></a>) (<span class="id" type="var">c</span>: <a class="idref" href="language.html#stmt"><span class="id" type="inductive">stmt</span></a>) {<span class="id" type="keyword">struct</span> <span class="id" type="var">k</span>}: <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="environment.html#SUnterminated"><span class="id" type="constructor">SUnterminated</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">k'</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Sassign"><span class="id" type="constructor">Sassign</span></a> <span class="id" type="var">ast_id</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <span class="id" type="var">v</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">x</span> (<a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <span class="id" type="var">v</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">s1</span> =&gt; <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <span class="id" type="var">s1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="environment.html#SException"><span class="id" type="constructor">SException</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#ValException"><span class="id" type="constructor">ValException</span></a> =&gt; <a class="idref" href="environment.html#SException"><span class="id" type="constructor">SException</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Sseq"><span class="id" type="constructor">Sseq</span></a> <span class="id" type="var">ast_id</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k'</span> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">c1</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <span class="id" type="var">s1</span> =&gt; <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k'</span> <span class="id" type="var">s1</span> <span class="id" type="var">c2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#SException"><span class="id" type="constructor">SException</span></a> =&gt; <a class="idref" href="environment.html#SException"><span class="id" type="constructor">SException</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#SUnterminated"><span class="id" type="constructor">SUnterminated</span></a> =&gt; <a class="idref" href="environment.html#SUnterminated"><span class="id" type="constructor">SUnterminated</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Sifthen"><span class="id" type="constructor">Sifthen</span></a> <span class="id" type="var">ast_id</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>) =&gt; <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k'</span> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>) =&gt; <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="environment.html#SException"><span class="id" type="constructor">SException</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Swhile"><span class="id" type="constructor">Swhile</span></a> <span class="id" type="var">ast_id</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k'</span> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <span class="id" type="var">s1</span> =&gt; <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k'</span> <span class="id" type="var">s1</span> (<a class="idref" href="language.html#Swhile"><span class="id" type="constructor">Swhile</span></a> <span class="id" type="var">ast_id</span> <span class="id" type="var">b</span> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#SException"><span class="id" type="constructor">SException</span></a> =&gt; <a class="idref" href="environment.html#SException"><span class="id" type="constructor">SException</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#SUnterminated"><span class="id" type="constructor">SUnterminated</span></a> =&gt; <a class="idref" href="environment.html#SUnterminated"><span class="id" type="constructor">SUnterminated</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>) =&gt; <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="environment.html#SException"><span class="id" type="constructor">SException</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab29"></a><h1 class="section">Bisimulation Between Relational And Functional Semantics.</h1>
<a name="lab30"></a><h2 class="section">Semantics equivalence for expression</h2>

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="f_eval_expr_correct"><span class="id" type="lemma">f_eval_expr_correct</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">h</span>; <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">h</span>. <span class="id" type="tactic">destruct</span> (<a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <span class="id" type="var">i</span> <span class="id" type="var">s</span>); <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">h</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <span class="id" type="var">s</span> <span class="id" type="var">e1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <span class="id" type="var">s</span> <span class="id" type="var">e2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">v2</span>; <span class="id" type="tactic">try</span> (<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">econstructor</span>; <span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">h</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="semantics.html#eval_unop"><span class="id" type="definition">eval_unop</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <span class="id" type="var">s</span> <span class="id" type="var">e</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span>; <span class="id" type="tactic">try</span> (<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v0</span>; <span class="id" type="tactic">try</span> (<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHe</span> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <span class="id" type="var">b</span>)). <span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>; <span class="id" type="tactic">intuition</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">s</span> <span class="id" type="var">v</span>,  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">e</span> <span class="id" type="var">s</span> <span class="id" type="var">v</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>: <a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span>  |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">progress</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">progress</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">v2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="tactic">assumption</span> | | | ]; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">blam</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#SUnterminated"><span class="id" type="constructor">SUnterminated</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#SException"><span class="id" type="constructor">SException</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>;<span class="id" type="tactic">subst</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>:<a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <span class="id" type="var">_</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span> : <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span> : <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<span class="id" type="tactic">subst</span>;<span class="id" type="tactic">simpl</span>;<span class="id" type="tactic">auto</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">invle</span> := <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>: (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <span class="id" type="var">_</span>)%<span class="id" type="var">nat</span> |- <span class="id" type="var">_</span> =&gt; (<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>;<span class="id" type="tactic">simpl</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="f_eval_stmt_fixpoint"><span class="id" type="lemma">f_eval_stmt_fixpoint</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span> (<span class="id" type="var">k</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) <span class="id" type="var">s'</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">k'</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, (<a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <a class="idref" href="semantics.html#k'"><span class="id" type="variable">k'</span></a>)%<span class="id" type="var">nat</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k'"><span class="id" type="variable">k'</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span> <span class="id" type="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>); <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="var">blam</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">repeat</span> <span class="id" type="var">blam</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="var">blam</span>. <span class="id" type="var">blam</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">repeat</span> <span class="id" type="var">blam</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">rewrite</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">_</span> <span class="id" type="var">e1</span>);<span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">blam</span>. <span class="id" type="tactic">rewrite</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>);<span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">blam</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">blam</span>. <span class="id" type="tactic">rewrite</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">_</span> <span class="id" type="var">e2</span>); <span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">blam</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">destrIH</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> (<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#ex"><span class="id" type="inductive">ex</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>  =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">k</span> := <span class="id" type="tactic">fresh</span> "k" <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">hk1</span> := <span class="id" type="tactic">fresh</span> "hk" <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">h</span>) <span class="id" type="keyword">as</span> [<span class="id" type="var">k</span> <span class="id" type="var">hk1</span>];<span class="id" type="tactic">try</span> <span class="id" type="tactic">assumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>).<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">kgreater</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>:<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> ?<span class="id" type="var">k</span> ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> ?<span class="id" type="var">s'</span> |- <span class="id" type="keyword">context</span> [<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> (?<span class="id" type="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">_</span>) ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (@<a class="idref" href="semantics.html#f_eval_stmt_fixpoint"><span class="id" type="lemma">f_eval_stmt_fixpoint</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>);<span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>:<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> ?<span class="id" type="var">k</span> ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> ?<span class="id" type="var">s'</span> |- <span class="id" type="keyword">context</span> [<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> (<span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">k</span>) ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (@<a class="idref" href="semantics.html#f_eval_stmt_fixpoint"><span class="id" type="lemma">f_eval_stmt_fixpoint</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>);<span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab31"></a><h2 class="section">Semantics equivalence for command</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="f_eval_stmt_correct"><span class="id" type="lemma">f_eval_stmt_correct</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>); <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s'</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#eval_Sassign"><span class="id" type="constructor">eval_Sassign</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_expr_correct"><span class="id" type="lemma">f_eval_expr_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">e2</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">blam</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#eval_Sseq"><span class="id" type="constructor">eval_Sseq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">s1</span> <span class="id" type="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs1</span> <span class="id" type="var">s'</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs1</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#eval_Sifthen_True"><span class="id" type="constructor">eval_Sifthen_True</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_expr_correct"><span class="id" type="lemma">f_eval_expr_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">e1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">s'</span> <span class="id" type="var">H</span>). <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#eval_Sifthen_False"><span class="id" type="constructor">eval_Sifthen_False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_expr_correct"><span class="id" type="lemma">f_eval_expr_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#eval_Swhile_True"><span class="id" type="constructor">eval_Swhile_True</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_expr_correct"><span class="id" type="lemma">f_eval_expr_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">e1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">s1</span> <span class="id" type="var">e2</span>). <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs1</span> <span class="id" type="var">s'</span> <span class="id" type="var">H</span>). <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#eval_Swhile_False"><span class="id" type="constructor">eval_Swhile_False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_expr_correct"><span class="id" type="lemma">f_eval_expr_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="f_eval_stmt_complete"><span class="id" type="lemma">f_eval_stmt_complete</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#SNormal"><span class="id" type="constructor">SNormal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span> <span class="id" type="var">s'</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">exists</span> 1%<span class="id" type="var">nat</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="semantics.html#f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">destrIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">k0</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a><span class="id" type="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">kgreater</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">destrIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="semantics.html#f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="semantics.html#f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">destrIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">k0</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a><span class="id" type="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">kgreater</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="semantics.html#f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="semantics.html#f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
basic lemmas 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="expr_type_infer"><span class="id" type="lemma">expr_type_infer</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_binop"><span class="id" type="definition">eval_binop</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#n"><span class="id" type="variable">n</span></a>) -&gt; (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">n1</span> <span class="id" type="var">n2</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#n1"><span class="id" type="variable">n1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#n2"><span class="id" type="variable">n2</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="semantics.html#eval_binop"><span class="id" type="definition">eval_binop</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">v1'</span> | ]; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">v2'</span> | ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v1'</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v2'</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="tactic">exists</span> <span class="id" type="var">n0</span>, <span class="id" type="var">n1</span>; <span class="id" type="tactic">auto</span>).<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="expr_type_infer'"><span class="id" type="lemma">expr_type_infer'</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_binop"><span class="id" type="definition">eval_binop</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#n"><span class="id" type="variable">n</span></a>)  -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">n1</span> <span class="id" type="var">n2</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#n1"><span class="id" type="variable">n1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#n2"><span class="id" type="variable">n2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">n1</span> <span class="id" type="var">n2</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#n1"><span class="id" type="variable">n1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#ValNormal"><span class="id" type="constructor">ValNormal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#n2"><span class="id" type="variable">n2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="semantics.html#eval_binop"><span class="id" type="definition">eval_binop</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">v1'</span> | ]; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">v2'</span> | ]; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v1'</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v2'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">n0</span>, <span class="id" type="var">n1</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">n0</span>, <span class="id" type="var">n1</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">b</span>, <span class="id" type="var">b0</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">b</span>, <span class="id" type="var">b0</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>