\section{Overview}
In the long path through the definition of complete semantics for SPARK 2014, a
very important step is to build a tool chain to make it possible in the future
to be integrated into SPARK 2014 tool set. Now most of the formalization work
are not really used or adopted by a real programming language partially because
of the big gap between formalization and its real application. So we build a
prototype of the tool chain from SPARK 2014 to Coq and build a bridge between
SPARK formalization and its real application in SPARK GnatProve tool set. For
the users of SPARK programming language, it also helps to convince them why
SPARK is safety-critical programming language by the experimentation of the
behavior of SPARK semantics on real SPARK 2014 programs.

\textit{Insert An Overview Graph}

\subsection{The Frontend of The Tool Chain From SPARK to Coq}
In the front end of this tool chain, Gnat2XML, developed by AdaCore, translates
SPARK programs to a fully resolved Abstract Syntax Tree (AST) XML representation
with an accompanying XML schema. As part of the Sireum analysis framework
[5], we have furtherly developed a tool called Jago [4] that translates XML
representation of the GNAT compiler's ASTs into a Scala-based representation in
Sireum. This open-source framework enables one to build code translators and
analysis tools for SPARK 2014 in Scala. Scalaâ€™s blending of functional and
object-oriented program styles have proven quite useful in other contexts for
syntax tree manipulation and analysis. Integrated into Jago are two kinds of
translations: (1) type translation to translate Gnat2XML-generated XML schema to
(inductive) type definition in Coq; (2) program translation to translate
Gnat2XML-generated AST XML representation into Coq based representations.

\subsection{SPARK 2014 Formalization and Proof in Coq}
With Coq inductive type definition for SPARK AST syntax produced by Jago type
translator, formal semantics encoding run-time checks for SPARK has
been developed within Coq, which is refered as SPARK reference semantics.
Besides, a formal semantics for SPARK AST extended with run-time check flags
are defined, where run-time checks are performed only if the appropriate check
flags are set for the operations. And an AST translator from a SPARK AST to a
run-time check flagged AST is provided and proved correct with respect to the
SPARK reference semantics.

\subsection{Run-Time Checks Comparison}
To verify the run-time check flags that are inserted by GnatPro frontend, a
run-time check comparison function is developed to match the GnatPro generated
checks against the expected checks required by our formalized SPARK reference
semantics, and report any mismatchs. For easy debug, any check mismatching
information will be mapped back to the SPARK source location.



