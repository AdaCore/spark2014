\lstset{defaultdialect=[LaTeX]TeX}

\lstdefinelanguage{fdl}{
  morekeywords={function,type,array,record,const,pending,var,and,or,not,for_some,for_all,
                element,update,
                may_be_replaced_by,may_be_deduced,may_be_deduced_from,are_interchangeable,if,
                goal,checktype},
  morecomment=[s]{/*}{*/}
}

%% Needs dialects for SPARK83, SPARK95 and SPARK2005
%% and some work on getting the annotation keywords to be highlighted (pun intended)
\lstdefinelanguage{SPARK}{
  language = [95]Ada,
  morekeywords = {pre,post,assert,assume,check,derives,hide,global,depends,inherit,from,own,initializes,main_program,assert,loop_variant,loop_invariant,increases,decreases,ghost,abstract_state,refined_state,refined_global,refined_depends},
  comment=[l][commentstyle]{--\ },
  texcl=true,
  showstringspaces=false
}

\lstdefinelanguage{SMTLIB}{
  language = LISP,
  morekeywords = {set-logic,
                  declare-const,declare-fun,define-const,define-fun,
                  check-sat,
                  get-value,
                  exit},
  texcl=true,
  showstringspaces=false
}


\lstdefinelanguage{indexfile}{
  morekeywords = {spec,is,in,body,specification,superindex,auxindex,components,are},
  comment=[l][commentstyle]{--\ },
  texcl=true,
  showstringspaces=false
}

\lstdefinelanguage{cmdline}{
  comment=[l][commentstyle]{--\ },
  texcl=true,
  showstringspaces=false
}

\lstnewenvironment{pxcode}[1][\@empty]{
  \lstset{language=}
  \lstset{style=pxstyle}
  \ifx#1\@empty\else
  \lstset{#1}
  \fi
}{%
}

\lstset{style=pxstyle}

\lstdefinelanguage{BNF}{
  language = [2005]Ada,
  deletecomment = [l]{--},
  morekeywords = {check,assert,pre,post},
  moredelim=[is][\emph]{//}{//},
}

% A smaller style than default, this is useful if you have a lot of
% code to typeset on a slide
\lstdefinestyle{tinystyle}
   {basicstyle=\tiny\tt,
    keywordstyle=\color{AnColour02},
    commentstyle=\rmfamily\it\color{AltranGrey},
    captionpos=b,
    caption={},label={},
    numbers=none,
    escapeinside={(*}{*)}}
